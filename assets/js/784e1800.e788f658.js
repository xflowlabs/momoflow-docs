"use strict";(self.webpackChunkmomoflow_docs=self.webpackChunkmomoflow_docs||[]).push([[476],{2636:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>d,toc:()=>a});var t=s(4848),r=s(8453);const i={},o="Flow Reporting API",d={id:"api/endpoints/flow-reporting",title:"Flow Reporting API",description:"Overview",source:"@site/docs/api/endpoints/flow-reporting.md",sourceDirName:"api/endpoints",slug:"/api/endpoints/flow-reporting",permalink:"/momoflow-docs/api/endpoints/flow-reporting",draft:!1,unlisted:!1,editUrl:"https://github.com/xflowlabs/momoflow-docs/tree/main/docs/api/endpoints/flow-reporting.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Flow Assignment API",permalink:"/momoflow-docs/api/endpoints/flow-assignment"},next:{title:"Integrations Overview",permalink:"/momoflow-docs/integrations/overview"}},l={},a=[{value:"Overview",id:"overview",level:2},{value:"Endpoint Details",id:"endpoint-details",level:2},{value:"Authentication",id:"authentication",level:2},{value:"Request Headers",id:"request-headers",level:2},{value:"Request Body Parameters",id:"request-body-parameters",level:2},{value:"Example Request Body",id:"example-request-body",level:3},{value:"Response",id:"response",level:2},{value:"Success Response (200 OK)",id:"success-response-200-ok",level:3},{value:"Error Responses",id:"error-responses",level:3},{value:"Invalid Authentication (401 Unauthorized)",id:"invalid-authentication-401-unauthorized",level:4},{value:"Flow Not Found (404 Not Found)",id:"flow-not-found-404-not-found",level:4},{value:"Invalid Date Range (400 Bad Request)",id:"invalid-date-range-400-bad-request",level:4},{value:"Rate Limit Exceeded (429 Too Many Requests)",id:"rate-limit-exceeded-429-too-many-requests",level:4},{value:"Code Examples",id:"code-examples",level:2},{value:"cURL",id:"curl",level:3},{value:"Node.js",id:"nodejs",level:3},{value:"Python",id:"python",level:3},{value:"Data Export",id:"data-export",level:2},{value:"Aggregation Options",id:"aggregation-options",level:2},{value:"Rate Limits",id:"rate-limits",level:2},{value:"Best Practices",id:"best-practices",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components},{Details:s}=n;return s||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"flow-reporting-api",children:"Flow Reporting API"})}),"\n",(0,t.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsx)(n.p,{children:"The Flow Reporting API provides comprehensive insights into flow assignments and schedules. Use this API to:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Track completion rates of assigned flows"}),"\n",(0,t.jsx)(n.li,{children:"Monitor user progress through modules"}),"\n",(0,t.jsx)(n.li,{children:"Generate compliance reports"}),"\n",(0,t.jsx)(n.li,{children:"Analyze workflow efficiency"}),"\n",(0,t.jsx)(n.li,{children:"Export flow data for custom analytics"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"endpoint-details",children:"Endpoint Details"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-endpoint",children:"POST https://api.momoflow.com/v1/flows/report\n"})}),"\n",(0,t.jsx)(n.h2,{id:"authentication",children:"Authentication"}),"\n",(0,t.jsx)(n.p,{children:"Authentication works the same way as other MomoFlow APIs. Include your API secret key in the Authorization header:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Authorization: Bearer YOUR_SECRET_KEY\n"})}),"\n",(0,t.jsxs)(n.p,{children:["See our ",(0,t.jsx)(n.a,{href:"/api/authentication",children:"Authentication Guide"})," for details on generating and managing API keys."]}),"\n",(0,t.jsx)(n.h2,{id:"request-headers",children:"Request Headers"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Header"}),(0,t.jsx)(n.th,{children:"Required"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Authorization"}),(0,t.jsx)(n.td,{children:"Yes"}),(0,t.jsx)(n.td,{children:'Your API key prefixed with "Bearer "'})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Content-Type"}),(0,t.jsx)(n.td,{children:"Yes"}),(0,t.jsx)(n.td,{children:'Must be "application/json"'})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"X-Request-ID"}),(0,t.jsx)(n.td,{children:"No"}),(0,t.jsx)(n.td,{children:"Optional request identifier for tracking purposes"})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"request-body-parameters",children:"Request Body Parameters"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Parameter"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Required"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"flowId"}),(0,t.jsx)(n.td,{children:"string"}),(0,t.jsx)(n.td,{children:"Yes"}),(0,t.jsx)(n.td,{children:"Unique identifier of the flow to report on"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"startDate"}),(0,t.jsx)(n.td,{children:"string"}),(0,t.jsx)(n.td,{children:"No"}),(0,t.jsx)(n.td,{children:"ISO 8601 date to start report from"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"endDate"}),(0,t.jsx)(n.td,{children:"string"}),(0,t.jsx)(n.td,{children:"No"}),(0,t.jsx)(n.td,{children:"ISO 8601 date to end report at"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"status"}),(0,t.jsx)(n.td,{children:"string"}),(0,t.jsx)(n.td,{children:"No"}),(0,t.jsx)(n.td,{children:'Filter by status: "pending", "in_progress", "completed", "overdue"'})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"detailed"}),(0,t.jsx)(n.td,{children:"boolean"}),(0,t.jsx)(n.td,{children:"No"}),(0,t.jsx)(n.td,{children:"Include detailed module-level progress (default: false)"})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"example-request-body",children:"Example Request Body"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "flowId": "flow_123abc",\n  "startDate": "2024-01-01T00:00:00Z",\n  "endDate": "2024-12-31T23:59:59Z",\n  "status": "in_progress",\n  "detailed": true\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"response",children:"Response"}),"\n",(0,t.jsx)(n.h3,{id:"success-response-200-ok",children:"Success Response (200 OK)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "flowId": "flow_123abc",\n  "flowName": "Customer Onboarding",\n  "metrics": {\n    "totalAssignments": 45,\n    "completedAssignments": 38,\n    "averageCompletionTime": "1.5 days",\n    "completionRate": 84.4\n  },\n  "schedules": [\n    {\n      "scheduleId": "sched_456def",\n      "assigneeEmail": "employee@company.com",\n      "scheduledAt": "2024-10-28T10:00:00Z",\n      "status": "pending",\n      "recurrence": "weekly"\n    }\n  ],\n  "assignments": [\n    {\n      "assignmentId": "asgn_789xyz",\n      "assigneeEmail": "employee@company.com",\n      "assignedAt": "2024-10-25T15:30:00Z",\n      "status": "in_progress",\n      "completedModules": 2,\n      "totalModules": 5,\n      "moduleProgress": [\n        {\n          "moduleId": "mod_001",\n          "moduleName": "Welcome",\n          "status": "completed",\n          "completedAt": "2024-10-25T16:00:00Z"\n        },\n        {\n          "moduleId": "mod_002",\n          "moduleName": "Company Policies",\n          "status": "completed",\n          "completedAt": "2024-10-25T16:30:00Z"\n        },\n        {\n          "moduleId": "mod_003",\n          "moduleName": "Safety Training",\n          "status": "in_progress",\n          "startedAt": "2024-10-25T16:45:00Z"\n        }\n      ]\n    }\n  ]\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"error-responses",children:"Error Responses"}),"\n",(0,t.jsx)(n.h4,{id:"invalid-authentication-401-unauthorized",children:"Invalid Authentication (401 Unauthorized)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "error": "unauthorized",\n  "message": "Invalid or missing API key"\n}\n'})}),"\n",(0,t.jsx)(n.h4,{id:"flow-not-found-404-not-found",children:"Flow Not Found (404 Not Found)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "error": "not_found",\n  "message": "Flow with ID \'flow_123abc\' does not exist"\n}\n'})}),"\n",(0,t.jsx)(n.h4,{id:"invalid-date-range-400-bad-request",children:"Invalid Date Range (400 Bad Request)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "error": "invalid_request",\n  "message": "End date must be after start date"\n}\n'})}),"\n",(0,t.jsx)(n.h4,{id:"rate-limit-exceeded-429-too-many-requests",children:"Rate Limit Exceeded (429 Too Many Requests)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "error": "rate_limit_exceeded",\n  "message": "Too many requests. Please try again in 60 seconds",\n  "retry_after": 60\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"code-examples",children:"Code Examples"}),"\n",(0,t.jsx)(n.h3,{id:"curl",children:"cURL"}),"\n",(0,t.jsxs)(s,{children:[(0,t.jsx)("summary",{children:"Click to expand"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'curl -X POST https://api.momoflow.com/v1/flows/report \\\n  -H "Authorization: Bearer YOUR_SECRET_KEY" \\\n  -H "Content-Type: application/json" \\\n  -H "X-Request-ID: req_unique_id" \\\n  -d \'{\n    "flowId": "flow_123abc",\n    "startDate": "2024-01-01T00:00:00Z",\n    "endDate": "2024-12-31T23:59:59Z",\n    "status": "in_progress",\n    "detailed": true\n  }\'\n'})})]}),"\n",(0,t.jsx)(n.h3,{id:"nodejs",children:"Node.js"}),"\n",(0,t.jsxs)(s,{children:[(0,t.jsx)("summary",{children:"Click to expand"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"const axios = require('axios');\n\nasync function getFlowReport() {\n  try {\n    const response = await axios.post(\n      'https://api.momoflow.com/v1/flows/report',\n      {\n        flowId: 'flow_123abc',\n        startDate: '2024-01-01T00:00:00Z',\n        endDate: '2024-12-31T23:59:59Z',\n        status: 'in_progress',\n        detailed: true\n      },\n      {\n        headers: {\n          'Authorization': 'Bearer YOUR_SECRET_KEY',\n          'Content-Type': 'application/json',\n          'X-Request-ID': 'req_unique_id'\n        }\n      }\n    );\n    \n    console.log('Flow report:', response.data);\n  } catch (error) {\n    console.error('Error fetching report:', error.response.data);\n  }\n}\n"})})]}),"\n",(0,t.jsx)(n.h3,{id:"python",children:"Python"}),"\n",(0,t.jsxs)(s,{children:[(0,t.jsx)("summary",{children:"Click to expand"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"import requests\n\ndef get_flow_report():\n    headers = {\n        'Authorization': 'Bearer YOUR_SECRET_KEY',\n        'Content-Type': 'application/json',\n        'X-Request-ID': 'req_unique_id'\n    }\n\n    data = {\n        'flowId': 'flow_123abc',\n        'startDate': '2024-01-01T00:00:00Z',\n        'endDate': '2024-12-31T23:59:59Z',\n        'status': 'in_progress',\n        'detailed': True\n    }\n\n    try:\n        response = requests.post(\n            'https://api.momoflow.com/v1/flows/report',\n            json=data,\n            headers=headers\n        )\n        response.raise_for_status()\n        print('Flow report:', response.json())\n    except requests.exceptions.RequestException as e:\n        print('Error fetching report:', e)\n"})})]}),"\n",(0,t.jsx)(n.h2,{id:"data-export",children:"Data Export"}),"\n",(0,t.jsx)(n.p,{children:"The reporting API supports various export formats:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Add ",(0,t.jsx)(n.code,{children:"format"})," parameter to request body:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:'"format": "csv"'})," for CSV export"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:'"format": "excel"'})," for Excel export"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:'"format": "pdf"'})," for PDF export"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Response will include a ",(0,t.jsx)(n.code,{children:"downloadUrl"})," field:"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "downloadUrl": "https://api.momoflow.com/v1/exports/exp_abc123",\n  "expiresAt": "2024-10-26T15:30:00Z"\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"aggregation-options",children:"Aggregation Options"}),"\n",(0,t.jsxs)(n.p,{children:["Use the ",(0,t.jsx)(n.code,{children:"aggregate"})," parameter to group data:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "flowId": "flow_123abc",\n  "aggregate": {\n    "by": "week",\n    "metrics": ["completion_rate", "average_duration"]\n  }\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:"Supported aggregation periods:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"day"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"week"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"month"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"quarter"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"year"})}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"rate-limits",children:"Rate Limits"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Standard tier: 50 requests per minute"}),"\n",(0,t.jsx)(n.li,{children:"Enterprise tier: 500 requests per minute"}),"\n",(0,t.jsx)(n.li,{children:"Large reports may count as multiple requests"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Use date ranges to limit response size"}),"\n",(0,t.jsx)(n.li,{children:"Enable detailed mode only when necessary"}),"\n",(0,t.jsx)(n.li,{children:"Implement"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>d});var t=s(6540);const r={},i=t.createContext(r);function o(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);